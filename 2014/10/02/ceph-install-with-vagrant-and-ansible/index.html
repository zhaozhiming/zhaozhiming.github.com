<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
    
	<title>使用Vagrant和Ansible搭建Ceph环境 - Hacker and Geeker&#39;s Way</title>
    <meta name="author" content="">
    
	<meta name="description" content="使用Vagrant和Ansible部署Ceph环境"> <!-- TODO: truncate -->
	<meta name="keywords" content="vagrant,ansible,ceph">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="atom.xml" rel="alternate" title="Hacker and Geeker&#39;s Way" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/hljs.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='/stylesheets/font.css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='/stylesheets/font.css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='/stylesheets/font.css?family=Amethysta+One' rel='stylesheet' type='text/css'>
	  <script src="/javascripts/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![}]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <!-- <script src="/javascripts/ajaxify.js"></script> -->

    

    
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-100485541-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


<meta name="generator" content="Hexo 6.3.0"></head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        Hacker and Geeker&#39;s Way
    </div>
</h1>
<span class="subtitle"></span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
  
  <!-- GitHub -->
  <li>
  <a target="_blank" rel="noopener" href="https://github.com/zhaozhiming" class="github" title="Github"></a>
  </li>
  
  
  
  
  <!-- Twitter -->
  <li>
  <a target="_blank" rel="noopener" href="http://www.twitter.com/kingzzm" class="twitter" title="Twitter"></a>
  </li>
  
  
  <!-- LinkedIn -->
  <li>
  <a target="_blank" rel="noopener" href="http://www.linkedin.com/in/zhaozhiming" class="linkedin" title="LinkedIn"></a>
  </li>
  
  
  
  
  
  <!-- Stackoverflow -->
  <li>
  <a target="_blank" rel="noopener" href="http://stackoverflow.com/users/1954315/zhaozhiming" class="stackoverflow" title="Stackoverflow"></a>
  </li>
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    <li><a href="/about/index.html">About</a></li>
    
    <li>
    <div id="dark">
        <form action="//www.google.com.hk/search" method="get" accept-charset="UTF-8" id="search">
            <input type="hidden" name="sitesearch" value="https://zhaozhiming.github.io" />
            <input type="text" name="q" results="0" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>


<div id="toload">
<!-- begin toload -->
    <div id="content">
        <div class="inner">
<article class="post">
	<h2 class="title">使用Vagrant和Ansible搭建Ceph环境</h2>
    <div class="meta">
        <div class="date">Published on: <time datetime="2014-10-02T14:03:00.000Z" itemprop="datePublished">10月 2, 2014</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/ceph/">ceph</a> <a href="/tags/vagrant/">vagrant</a> <a href="/tags/ansible/">ansible</a>
</div>
    </div>
	<div class="entry-content"><img src="/images/post/2014-9/ceph-install.jpg" class="">  
<h2 id="Ceph简介"><a href="#Ceph简介" class="headerlink" title="Ceph简介"></a><a target="_blank" rel="noopener" href="http://ceph.com/">Ceph</a>简介</h2><p>Ceph是一个高性能，高可用，高扩展的分布式对象存储框架和文件系统，而且是一个免费开源的项目。  </p>
<p>但是Ceph的环境搭建起来比较麻烦，最简单的环境也需要2台VM(虚拟机，1台做mon和osd，另外一台做gateway)，而且按照官方文档上面的指南进行安装，经常报各种莫名其妙的问题，现在给大家介绍一个简单的方法来进行Ceph环境的搭建。下面先介绍几个要用到的工具。  </p>
<span id="more"></span>
<h2 id="Vagrant"><a href="#Vagrant" class="headerlink" title="Vagrant"></a><a target="_blank" rel="noopener" href="https://www.vagrantup.com/">Vagrant</a></h2><img src="/images/post/2014-9/vagrant.png" class="">  
<p>以前使用VM情况是这样的:   </p>
<ul>
<li>下载操作系统的iso镜像</li>
<li>通过VM管理工具(VMWare，VirtualBox等)将iso镜像转换为VM</li>
<li>登陆到VM进行操作</li>
</ul>
<p>整个过程复杂而且漫长，但是使用了Vagrant之后就非常方便了，一个命令就可以搞定VM的安装，ssh到VM也无需输入用户名密码，还可以查看所有VM的状态等。  </p>
<h3 id="Box"><a href="#Box" class="headerlink" title="Box"></a>Box</h3><p>vagrant通过box来生成VM，box可以理解是一个制作好的VM，这意味着你搭建完自己的开发环境后，也可以将其制作成一个box，供团队其他成员使用。  </p>
<p>box的容量非常小，比如Ubuntu12.04的一个iso镜像一般要500多M，制作成VM可能要10G左右，而一个ubuntu12.04的box只有300多M。Vagrant的box可以在<a target="_blank" rel="noopener" href="https://vagrantcloud.com/discover/featured">这里</a>下载，除了有各种OS(ubuntu, windosw, CentOS等)的VM外，还有Virtualbox和VMWare各自对应的box，不过要使用VMWare的box，需要安装插件和到购买相关的<a target="_blank" rel="noopener" href="https://www.vagrantup.com/VMware">License</a>，毕竟VMWare不是免费的软件。  </p>
<p>下载了box后，执行下面命令就可以添加box了，如果直接输入box名称并发现本地没有box的话，会自动下载box文件。(<code>PS: Vagrant默认使用Virtualbox作为虚拟器软件，所以在安装Vagrant还需要先安装Virtualbox。</code>)  </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//添加本地box文件</span><br><span class="line">$ vagrant box add /your/box/path/xxx.box</span><br><span class="line">//添加指定名称的box，没有的话会自动下载box文件</span><br><span class="line">$ vagrant box add hashicorp/precise32</span><br><span class="line">//列出所有的box</span><br><span class="line">$ vagrant box list</span><br></pre></td></tr></table></figure>   
<h3 id="Vagrant基本操作"><a href="#Vagrant基本操作" class="headerlink" title="Vagrant基本操作"></a>Vagrant基本操作</h3><p>Vagrant的操作非常简单，现在介绍几个常用的操作指令。(<code>PS: 下面的大部分命令后面可以跟VM名称，不跟的话是对所有的VM进行操作。</code>)  </p>
<ul>
<li>vagrant status: 展示VM的信息。</li>
<li>vagrant up: 启动VM。</li>
<li>vagrant ssh [VM]: ssh到某个VM上，无需输入用户名和密码。</li>
<li>vagrant halt: 关闭VM。</li>
<li>vagrant destroy: 销毁VM，如果你的VM被你玩残了，销毁它然后重新启动一个就可以了，很方便。</li>
</ul>
<h3 id="Vagrant共享"><a href="#Vagrant共享" class="headerlink" title="Vagrant共享"></a>Vagrant共享</h3><p>使用<code>vagrant ssh</code>到VM后，可以看到根目录下有个<code>/vagrant</code>文件夹，这个是VM和工程间的共享目录，在这个文件夹里面存放东西，可以在存放Vagrantfile的目录里面看到，反之亦然，在VM里面也可以读取到工程下的文件。  </p>
<h3 id="Vagrantfile"><a href="#Vagrantfile" class="headerlink" title="Vagrantfile"></a>Vagrantfile</h3><p>初始化vagrant工程后可以看到一个<code>Vagrantfile</code>的文件，这个是配置VM的文件，可以看下面的例子:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">VAGRANTFILE_API_VERSION</span> = <span class="string">&quot;2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vagrant</span>.configure(<span class="variable constant_">VAGRANTFILE_API_VERSION</span>) <span class="keyword">do</span> |<span class="params">config</span>|</span><br><span class="line">  config.<span class="variable constant_">VM</span>.box = <span class="string">&quot;hashicorp/precise64&quot;</span></span><br><span class="line"></span><br><span class="line">  config.<span class="variable constant_">VM</span>.define <span class="symbol">:rgw</span> <span class="keyword">do</span> |<span class="params">rgw</span>|</span><br><span class="line">    rgw.<span class="variable constant_">VM</span>.network <span class="symbol">:private_network</span>, <span class="symbol">ip:</span> <span class="string">&quot;192.168.42.2&quot;</span></span><br><span class="line">    rgw.<span class="variable constant_">VM</span>.host_name = <span class="string">&quot;ceph-rgw&quot;</span></span><br><span class="line">    rgw.<span class="variable constant_">VM</span>.provider <span class="symbol">:virtualbox</span> <span class="keyword">do</span> |<span class="params">vb</span>|</span><br><span class="line">      vb.customize [<span class="string">&quot;modifyVM&quot;</span>, <span class="symbol">:id</span>, <span class="string">&quot;--memory&quot;</span>, <span class="string">&quot;192&quot;</span>]</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    rgw.<span class="variable constant_">VM</span>.provider <span class="symbol">:VMware_fusion</span> <span class="keyword">do</span> |<span class="params">v</span>|</span><br><span class="line">      v.<span class="title class_">VMx</span>[<span class="string">&#x27;memsize&#x27;</span>] = <span class="string">&#x27;192&#x27;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>   
<p>这个Vagrantfile指定了box的名称，然后创建了一个名称为<code>rgw</code>的VM，指定了VM的ip、hostname、内存大小。  </p>
<p>关于vagrant就介绍到这里，想要了解更多信息可以查看<a target="_blank" rel="noopener" href="https://www.vagrantup.com/">vagrant官网</a>。  </p>
<h2 id="Ansible"><a href="#Ansible" class="headerlink" title="Ansible"></a><a target="_blank" rel="noopener" href="http://www.ansible.com/home">Ansible</a></h2><img src="/images/post/2014-9/ansible.jpg" class="">  
<p>Ansible是一个开源的远程机器管理软件，可以批量操作多台远程服务器。(<code>PS: Ansible只适合操作Linux和Unix机器，如果是Windows系统是不可以的。</code>)  </p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>要安装Ansible需要先安装Python2.6&#x2F;7，然后可以通过easy_install或pip进行下载安装。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> esay_install ansible</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"><span class="built_in">sudo</span> pip install ansible</span><br></pre></td></tr></table></figure>   
<h3 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h3><p>创建一个文件夹，在文件夹里面创建一个hosts文件，hosts格式如下:   </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hosts</span></span><br><span class="line">[ceph]</span><br><span class="line">192.168.42.2</span><br><span class="line">192.168.42.101</span><br><span class="line">192.168.42.201</span><br></pre></td></tr></table></figure>   
<p>可以看到hosts文件里面有几个远程机器的ip(这里是虚拟机)，远程机器可以分组，通过中括号里面的组名来划分。  </p>
<p>然后执行下面的命令执行简单的命令。  </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ ansible all -a <span class="string">&#x27;who&#x27;</span></span><br><span class="line">ceph-mon0 | success | rc=0 &gt;&gt;</span><br><span class="line">ceph     pts/0        2014-10-02 08:54 (192.168.42.60)</span><br><span class="line"></span><br><span class="line">ceph-osd0 | success | rc=0 &gt;&gt;</span><br><span class="line">ceph     pts/0        2014-10-02 08:54 (192.168.42.60)</span><br><span class="line"></span><br><span class="line">ceph-osd1 | success | rc=0 &gt;&gt;</span><br><span class="line">ceph     pts/0        2014-10-02 08:54 (192.168.42.60)</span><br></pre></td></tr></table></figure>   
<p>从输出信息上可以看到这几台远程机器都成功执行了<code>who</code>命令，不过如果要成功执行上面的命令，还需要先在执行机和远程机上面设置无密码ssh连接。  </p>
<h3 id="无密码ssh连接"><a href="#无密码ssh连接" class="headerlink" title="无密码ssh连接"></a>无密码ssh连接</h3><p>假设有2台机器，机器A和机器B，现在想让机器A<code>ssh</code>机器B的时候不需要输入用户和密码，操作如下。  </p>
<ul>
<li>在机器B上创建一个用户，并配置好，下面命令的<code>username</code>指自己要创建的用户名。</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd -d /home/&#123;username&#125; -m &#123;username&#125;</span><br><span class="line">$ <span class="built_in">sudo</span> passwd &#123;username&#125;</span><br><span class="line"><span class="comment"># 输入密码</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;&#123;username&#125; ALL = (root) NOPASSWD:ALL&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/sudoers.d/&#123;username&#125;</span><br><span class="line">$ <span class="built_in">sudo</span> <span class="built_in">chmod</span> 0440 /etc/sudoers.d/&#123;username&#125;</span><br></pre></td></tr></table></figure>   
<ul>
<li>在机器A上生成密钥，并发送给机器B。</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen</span><br><span class="line"></span><br><span class="line">Generating public/private key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/ceph-admin/.ssh/id_rsa):</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /ceph-admin/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /ceph-admin/.ssh/id_rsa.pub.</span><br><span class="line"></span><br><span class="line">$ ssh-copy-id &#123;username&#125;@&#123;机器B&#125;</span><br></pre></td></tr></table></figure>   
<ul>
<li>到这里就可以不用输入密码进行ssh了，如果想连用户名也不想输入的话，需要机器A在<code>.ssh</code>文件下创建一个<code>config</code>文件，在里面添加如下内容。</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host 机器B</span><br><span class="line">   Hostname 机器B</span><br><span class="line">   User &#123;username&#125;</span><br></pre></td></tr></table></figure>   
<h3 id="playbook"><a href="#playbook" class="headerlink" title="playbook"></a>playbook</h3><p>ansible还可以通过一个playbook脚本进行远程机器的操作，playbook的示例如下:   </p>
<figure class="highlight yaml"><figcaption><span>playbook.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># playbook.yml</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span> </span><br><span class="line">  <span class="attr">remote_user:</span> <span class="string">ceph</span> </span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">whoami</span></span><br><span class="line">      <span class="attr">shell:</span> <span class="string">&#x27;whoami &gt; whoami.rst&#x27;</span></span><br></pre></td></tr></table></figure>   
<p>创建完playbook文件后执行如下命令可以看到执行结果。  </p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ ansible-playbook playbook.yml </span><br><span class="line"></span><br><span class="line">PLAY [all] ******************************************************************** </span><br><span class="line"></span><br><span class="line">GATHERING FACTS *************************************************************** </span><br><span class="line">ok: [ceph-mon0]</span><br><span class="line">ok: [ceph-osd1]</span><br><span class="line">ok: [ceph-osd0]</span><br><span class="line"></span><br><span class="line">TASK: [<span class="built_in">whoami</span>] **************************************************************** </span><br><span class="line">changed: [ceph-mon0]</span><br><span class="line">changed: [ceph-osd0]</span><br><span class="line">changed: [ceph-osd1]</span><br><span class="line"></span><br><span class="line">PLAY RECAP ******************************************************************** </span><br><span class="line">ceph-mon0                  : ok=2    changed=1    unreachable=0    failed=0   </span><br><span class="line">ceph-osd0                  : ok=2    changed=1    unreachable=0    failed=0   </span><br><span class="line">ceph-osd1                  : ok=2    changed=1    unreachable=0    failed=0   </span><br></pre></td></tr></table></figure>   
<p>这时可以在远程机器的用户目录上可以看到新产生了一个<code>whoami.rst</code>的文件。  </p>
<p>关于ansible就介绍到这里，想要了解更多信息可以查看<a target="_blank" rel="noopener" href="http://docs.ansible.com/">ansible的文档</a>。  </p>
<h2 id="Ceph-ansible"><a href="#Ceph-ansible" class="headerlink" title="Ceph-ansible"></a><a target="_blank" rel="noopener" href="https://github.com/ceph/ceph-ansible">Ceph-ansible</a></h2><p>这个github项目主要是利用了上面介绍的2个工具，使用vagrant来创建ceph需要的服务器VM，然后将ceph的环境搭建通过ansible的playbook脚本执行。  </p>
<h3 id="执行步骤"><a href="#执行步骤" class="headerlink" title="执行步骤"></a>执行步骤</h3><ul>
<li>下载ceph-ansible项目;</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/ceph/ceph-ansible.git</span><br></pre></td></tr></table></figure>   
<ul>
<li>一行命令就可以完成环境搭建，完成后ceph的环境是: 3个mon，3个osd，1个rgw;</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ vagrant up</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">mon0                       : ok=16   changed=11   unreachable=0    failed=0</span><br><span class="line">mon1                       : ok=16   changed=10   unreachable=0    failed=0</span><br><span class="line">mon2                       : ok=16   changed=11   unreachable=0    failed=0</span><br><span class="line">osd0                       : ok=19   changed=7    unreachable=0    failed=0</span><br><span class="line">osd1                       : ok=19   changed=7    unreachable=0    failed=0</span><br><span class="line">osd2                       : ok=19   changed=7    unreachable=0    failed=0</span><br><span class="line">rgw                        : ok=20   changed=17   unreachable=0    failed=0</span><br></pre></td></tr></table></figure>   
</div>

</article>
<section id="appreciates">
  <center>
	<h2>赞赏</h2>
    <div class="post-footer">
      <div>
	    <h4>如果文章对您有所帮助，可以捐赠我喝杯咖啡😌，捐赠方式：</h4>
        <div class="digital-wallet">
          <h6>BTC 地址：3LYgSyf7ddMALwGWPQr3PY4wzjsTDdg1oV</h6>
          <h6>ETH 地址：0x0C9b27c89A61aadb0aEC24CA8949910Cbf77Aa73</h6>
        </div>
        <div class="wechat_appreciates">
          <img src="/images/wechat_appreciates.png" alt="qrcode" width="250" >
        </div>
      </div>
      <div>
	    <h4>文章已同步更新公众号，欢迎关注</h4>
        <div class="wechat_appreciates">
          <img src="/images/wxgzh_qrcode.jpg" alt="qrcode" width="250" >
        </div>
      </div>
    </div>
  </center>
</section>



    
      <script type="text/javascript">
        var disqus_config = function () {
            this.page.url = 'https://zhaozhiming.github.io/2014/10/02/ceph-install-with-vagrant-and-ansible/';
            this.page.identifier = 'https://zhaozhiming.github.io/2014/10/02/ceph-install-with-vagrant-and-ansible/';
        };

        (function() {
          var d = document, s = d.createElement('script');
          s.src = '//zhaozhiming.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    



<section id="comment">
    <h2 class="title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

</div>

    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2025

    赵芝明
. Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> |
    Theme is <a target="_blank" rel="noopener" href="https://github.com/wd/hexo-fabric">hexo-fabric</a>, fork from <a target="_blank" rel="noopener" href="http://github.com/panks/fabric">fabric</a> by <a target="_blank" rel="noopener" href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script>
 <!-- Delete or comment this line to disable Fancybox -->



<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5608723650603289" crossorigin="anonymous"></script>
</body>
</html>
